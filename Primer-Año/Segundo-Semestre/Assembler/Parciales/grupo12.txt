ORG 1000H
CADENA DB "LO HEMOS LOGRADO ODARGOL SOMEH OL"
LONG DB ?
CANT DB 0

ORG 3000H

;--------------------------
EQUALS: ;AX=VAR1, CX=VAR2
  PUSH BX
  PUSH DX
  PUSH CX
  MOV BX, CX
  MOV CL, [BX]
  MOV BX, AX
  CMP CL, [BX]
  JZ IGUALES
  MOV DX, 00H

SEGUIR:
  MOV BX, SP
  ADD BX, 8
  MOV [BX], DX
  POP CX
  POP DX
  POP BX
  RET
  
IGUALES:
  MOV DX, 0FFH
  MOV BX, SP
  ADD BX, 10
  MOV BX,[BX]
  INC BYTE PTR[BX]
  JMP SEGUIR
;--------------------------

ORG 2000H
  MOV AX, OFFSET CADENA-1
  MOV CX, OFFSET LONG
  MOV BX, OFFSET CANT
  
REPETIR: ;AX=INICIO, CX=FINAL
  PUSH BX
  PUSH DX
  INC AX
  DEC CX
  CMP AX,CX
  JNS FIN
  JZ FIN
  CALL EQUALS
  POP DX
  POP BX
  JMP REPETIR
FIN:
  POP DX ;SACAMOS ESTOS VALORES DE LA PILA AUNQUE NO SEA NECESARIO
  POP BX
HLT
END